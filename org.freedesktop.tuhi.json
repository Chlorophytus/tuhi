{
    "id": "org.freedesktop.tuhi",
    "command": "/app/bin/tuhi",
    "runtime": "org.freedesktop.Platform",
    "sdk": "org.freedesktop.Sdk",
    "runtime-version": "18.08",
    "cleanup": [ "/cache",
                 "/include",
                 "/lib/pkgconfig",
                 "/man",
                 "/share/aclocal",
                 "/share/devhelp",
                 "/share/gir-1.0",
                 "/share/gtk-doc",
                 "/share/man",
                 "/share/pkgconfig",
                 "/share/vala",
                 "/lib/systemd",
                 "*.la", "*.a" ],
    "build-options" : {
        "cflags": "-O2 -g",
        "cxxflags": "-O2 -g"
    },
    "finish-args": [
        "--system-talk-name=org.bluez",
        "--own-name=org.freedesktop.tuhi1"
    ],
    "modules": [
        {
            "name": "pycairo",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --no-index --find-links=\"file://${PWD}\" --prefix=${FLATPAK_DEST} ."
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/pygobject/pycairo/releases/download/v1.18.1/pycairo-1.18.1.tar.gz",
                    "sha256": "70172e58b6bad7572a3518c26729b074acdde15e6fee6cbab6d3528ad552b786"
                }
            ]
        },
        {
            "name": "pygobject",
            "config-opts": ["--enable-compile-warnings=minimum"],
            "sources": [
                {
                    "type": "archive",
                    "url": "http://ftp.gnome.org/pub/GNOME/sources/pygobject/3.27/pygobject-3.27.5.tar.xz",
                    "sha256": "3e57f42a48f7e762a791ccec2514894945829dc1e70caeea0252505cbddbeda4"
                }
            ]
        },
        {
            "name": "pyxdg",
            "buildsystem": "simple",
            "sources": [
                {
                    "type": "git",
                    "url": "git://anongit.freedesktop.org/xdg/pyxdg"
                }
            ],
            "build-commands": [
                "pip3 install --no-index --find-links=\"file://${PWD}\" --prefix=${FLATPAK_DEST} ."
            ]
        },
        {
            "name": "python-pyparsing",
            "buildsystem": "simple",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/pyparsing/pyparsing/releases/download/pyparsing_2.4.0/pyparsing-2.4.0.tar.gz",
                    "sha512": "71877dc006cce5c1b1d45e7cc89cd60e03cb80353387fb0c6498cfc0d69af465dc574d1bceb87248033e7a82694aa940e9fce1ca80b2ef538a8df51f697ef530"
                }
            ],
            "build-commands": [
                "pip3 install --no-index --find-links=\"file://${PWD}\" --prefix=${FLATPAK_DEST} ."
            ]
        },
        {
            "name": "python-svgwrite",
            "buildsystem": "simple",
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/mozman/svgwrite.git"
                }
            ],
            "build-commands": [
                "pip3 install --no-index --find-links=\"file://${PWD}\" --prefix=${FLATPAK_DEST} ."
            ]
        },
        {
            "name": "tuhi",
            "buildsystem": "simple",
            "sources": [
                {
                    "type": "git",
                    "path": "."
                }
            ],
            "build-commands": [
                "pip3 install --no-index --find-links=\"file://${PWD}\" --prefix=${FLATPAK_DEST} ."
            ],
            "post-install": [
                "cp tools/kete.py /app/lib/python3.7/site-packages/kete.py",
                "cp tools/tuhi-kete-sandboxed.py /app/bin/tuhi-kete",
                "chmod +x /app/bin/tuhi-kete"
            ]
        }
    ]
}
